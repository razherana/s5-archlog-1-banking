<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Banking Interface - Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="header">
      <h1>Banking Interface System</h1>
    </div>

    <div class="container">
      <!-- Success Messages -->
      <script>
        const urlParams = new URLSearchParams(window.location.search);
        const success = urlParams.get("success");

        if (success === "registered") {
          document.write(
            '<div class="alert alert-success">Account created successfully! Welcome to the Banking Interface System.</div>'
          );
        }
      </script>

      <div class="user-info">
        <span
          >Welcome,
          <strong id="userAdminName" th:text="${userAdmin.email}"></strong
        ></span>
        <a href="logout" class="logout-link">Logout</a>
        <div style="clear: both"></div>
      </div>

      <div class="card">
        <h2 class="text-center">Banking Services</h2>
        <p
          class="text-center"
          style="margin-bottom: 2rem; color: var(--accent-color)"
        >
          Choose a banking service below
        </p>

        <ul class="menu-list">
          <li>
            <a href="comptes-courants">
              <strong>Comptes Courants</strong>
              <br />
              <small>Manage current accounts and transactions</small>
            </a>
          </li>
          <li>
            <a href="comptes-depots">
              <strong>Comptes Dépôts</strong>
              <br />
              <small>Manage deposit accounts</small>
            </a>
          </li>
          <li>
            <a href="comptes-prets">
              <strong>Comptes Prêts</strong>
              <br />
              <small>Manage loan accounts</small>
            </a>
          </li>
        </ul>
      </div>

      <div class="card">
        <h3 class="text-center">Check Balance</h3>
        <p class="text-center">
          Select a user and a date/time to check balances (per-module and
          total).
        </p>

        <form id="balanceForm" action="/solde" method="get">
          <div style="margin-bottom: 0.5rem">
            <label for="userSelect">User</label>
            <select id="userSelect" name="userId" class="form-input" required>
              <option value="">Select a user...</option>
              <option
                th:each="userEntry : ${users}"
                th:value="${userEntry.id}"
                th:text="${userEntry.name}"
              >
                1 : John Doe
              </option>
            </select>
          </div>

          <div style="margin-bottom: 0.5rem">
            <label for="actionDateTime">Date/Time</label>
            <input
              id="actionDateTime"
              name="actionDateTime"
              type="datetime-local"
              class="form-input"
            />
          </div>

          <div>
            <button type="submit" class="btn btn-primary btn-full">
              Solde
            </button>
          </div>
        </form>
      </div>

      <div class="card">
        <h3 class="text-center">User Management</h3>
        <ul class="menu-list">
          <li>
            <a href="users">
              <strong>Manage Users</strong>
              <br />
              <small>View and manage all users in the system</small>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
